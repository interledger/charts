suite: web-monetization-tools backend - Backend Secrets
templates:
  - secrets.backend.yaml
set:
  fullnameOverride: test-web-monetization-tools
release:
  name: test-web-monetization-tools
tests:
  - it: 'should create secret with correct name when shouldCreateSecrets is true'
    asserts:
      - equal:
          path: metadata.name
          value: test-web-monetization-tools-backend
      - equal:
          path: kind
          value: Secret
      - isNotEmpty:
          path: data
  - it: 'should not create secret when shouldCreateSecrets is false'
    set:
      config:
        backend:
          shouldCreateSecrets: false
    asserts:
      - hasDocuments:
          count: 0
