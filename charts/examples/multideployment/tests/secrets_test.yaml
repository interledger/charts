suite: multideployment backend - generated secret
templates:
  - secrets.backend.yaml
set:
  fullnameOverride: yellow
tests:
  - it: 'Secret should be created and encoded correctly'
    set:
      config:
        shouldCreateSecrets: true
        someSecret: ThisIsTopSecret
    asserts:
      - equal:
          path: metadata.name
          value: yellow-backend
      - equal:
          path: metadata.labels["app.kubernetes.io/name"]
          value: yellow-backend
      - equal:
          path: metadata.labels["app.kubernetes.io/instance"]
          value: yellow
      - equal:
          path: data.MY_SECRET
          value: VGhpc0lzVG9wU2VjcmV0

