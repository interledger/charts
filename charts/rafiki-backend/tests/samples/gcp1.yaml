versionOverride: v1.0.0-alpha.15
serviceAccount:
  create: true
  name: rafiki-backend
  namespace: wallet
  annotations:
    iam.gke.io/gcp-service-account: someksa
redis:
  host: 'rafiki-redis-master'
postgresql:
  host: localhost
  auth:
    username: someone
    password: somepassword
    database: somedatabase

keyId: "01234567890"
livenet: "9876543210"
slippage: 0.12

ilp:
  streamSecret: "9999999999"
  # env PUBLIC_HOST and OPEN_PAYMENTS_URL
  host: "https://op.example.com"
  connector: "https://connector.example.com"

quoteSignatureSecret: "333333333333"

sidecars:
  - name: cloud-sql-proxy
    image:
      name: cloud-sql-connectors/cloud-sql-proxy
      tag: latest
      repository: gcr.io
    args:
      - "somewhere"
      - "--structured-logs"
    securityContext:
      runAsNonRoot: true


backendConfigs:
  - name: healthzcheck
    spec:
      healthCheck:
        checkIntervalSec: 5
        timeoutSec: 5
        healthyThreshold: 2
        unhealthyThreshold: 2
        type: HTTP
        requestPath: /healthz
        port: 3006

service:
  - name: service
    type: ClusterIP
    annotations:
      cloud.google.com/backend-config: '{"default": "healthzcheck"}'
      cloud.google.com/neg: '{"ingress": true}'
    ports:
      - port: 3006
        targetPort: 3006
        protocol: TCP
        name: auth
      - port: 3003
        targetPort: 3003
        protocol: TCP
        name: admin
      - port: 3007
        targetPort: 3007
        protocol: TCP
        name: introspection


